<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
           Docs
        </a>
         (54% documented)
      </p>
    
      <p class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </p>
    
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html"> Reference</a>
      <img class="carat" src="img/carat.png" />
        Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar.html">DSFToolbar</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/Button.html">– Button</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/Core.html">– Core</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/Group.html">– Group</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/Image.html">– Image</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/PopoverButton.html">– PopoverButton</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/PopupButton.html">– PopupButton</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/Search.html">– Search</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/Segmented.html">– Segmented</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/Separator.html">– Separator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/Print.html">– Print</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DSFToolbar/View.html">– View</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/DSFToolbarViewControllerProtocol.html">DSFToolbarViewControllerProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/DSFToolbarBuilder.html">DSFToolbarBuilder</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='dsftoolbar' class='heading'>DSFToolbar</h1>

<p>A SwiftUI-style declarative <code>NSToolbar</code> for macOS.</p>
<h2 id='why' class='heading'>Why?</h2>

<p>NSToolbar has an amazing API with incredible flexibility, but I find that it can be too verbose and spread throughout your code with the use of delegates and callbacks for simpler projects. Even moreso if you want to use actions and bindings on the toolbar objects which just increases the amount of boilerplate code required for each toolbar.</p>

<p>Because of this, I tended to find that I wasn&rsquo;t putting toolbars into my (admittedly basic) apps.</p>

<p>I was keen to see if I could produce an API that can :-</p>

<ul>
<li>use a SwiftUI- style declarative style for defining the toolbar.</li>
<li>provide a block-based or bindings based interaction model.</li>
<li>provide basic functionality for all of the toolbar item types.  For example, segmented controls, search controls.</li>
<li>provide fallback for newer toolbar functionality. For example, if you want to use the new macOS 11 splitview-tracking toolbar items you&rsquo;d have to litter your code with <code>if #available(macOS 11, *)</code> if you want/need to support 10.15 (for example).</li>
<li>legacy support for minSize/maxSize toolbar items on older macOS versions (before 10.13) if needed.</li>
</ul>

<p>This module doesn&rsquo;t contain the full functionality of the <code>NSToolbar</code>/<code>NSToolbarDelegate</code>, but provides a decent chunk of the core functionality.</p>
<h2 id='tl-dr-show-me-something' class='heading'>TL;DR - Show me something!</h2>

<p>If you&rsquo;re familiar with SwiftUI syntax you&rsquo;ll feel comfortable with the declaration style.</p>
<pre class="highlight swift"><code><span class="k">self</span><span class="o">.</span><span class="n">customToolbar</span> <span class="o">=</span> 
   <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">Make</span><span class="p">(</span><span class="kt">NSToolbar</span><span class="o">.</span><span class="kt">Identifier</span><span class="p">(</span><span class="s">"Core"</span><span class="p">))</span> <span class="p">{</span>

      <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">Image</span><span class="p">(</span><span class="kt">NSToolbarItem</span><span class="o">.</span><span class="kt">Identifier</span><span class="p">(</span><span class="s">"item-new"</span><span class="p">))</span>
         <span class="o">.</span><span class="nf">label</span><span class="p">(</span><span class="s">"New"</span><span class="p">)</span>
         <span class="o">.</span><span class="nf">image</span><span class="p">(</span><span class="err">…</span><span class="kd">some</span> <span class="n">image</span><span class="err">…</span><span class="p">)</span>
         <span class="o">.</span><span class="n">enabled</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">false</span> <span class="p">}</span>
         <span class="o">.</span><span class="n">action</span>  <span class="p">{</span> <span class="kt">Swift</span><span class="o">.</span><span class="nf">print</span><span class="p">(</span><span class="s">"Pressed item 1"</span><span class="p">)</span> <span class="p">}</span>

      <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">Image</span><span class="p">(</span><span class="kt">NSToolbarItem</span><span class="o">.</span><span class="kt">Identifier</span><span class="p">(</span><span class="s">"item-edit"</span><span class="p">))</span>
         <span class="o">.</span><span class="nf">label</span><span class="p">(</span><span class="s">"Edit"</span><span class="p">)</span>
         <span class="o">.</span><span class="nf">image</span><span class="p">(</span><span class="err">…</span><span class="kd">some</span> <span class="n">image</span><span class="err">…</span><span class="p">)</span>
         <span class="o">.</span><span class="n">enabled</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span> <span class="p">}</span>
         <span class="o">.</span><span class="n">action</span>  <span class="p">{</span> <span class="kt">Swift</span><span class="o">.</span><span class="nf">print</span><span class="p">(</span><span class="s">"Pressed item 2"</span><span class="p">)</span> <span class="p">}</span>

      <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">FlexibleSpace</span>

      <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">Search</span><span class="p">(</span><span class="kt">NSToolbarItem</span><span class="o">.</span><span class="kt">Identifier</span><span class="p">(</span><span class="s">"search-field"</span><span class="p">))</span>
         <span class="o">.</span><span class="nf">label</span><span class="p">(</span><span class="s">"Search"</span><span class="p">)</span>
         <span class="o">.</span><span class="nf">bindEnabled</span><span class="p">(</span><span class="nv">to</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">withKeyPath</span><span class="p">:</span> <span class="kd">#keyPath(</span><span class="nf">searchEnabled</span><span class="kd">)</span><span class="p">)</span>
         <span class="o">.</span><span class="nf">bindText</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">keyPath</span><span class="p">:</span> <span class="kd">#keyPath(</span><span class="nf">searchText</span><span class="kd">)</span><span class="p">)</span>
   <span class="p">}</span>

<span class="c1">// Attaching the window to the toolbar will make the toolbar appear</span>
<span class="k">self</span><span class="o">.</span><span class="n">customToolbar</span><span class="o">.</span><span class="n">attachedWindow</span> <span class="o">=</span> <span class="err">…</span><span class="kd">some</span> <span class="n">window</span><span class="err">…</span>
</code></pre>
<h2 id='concepts' class='heading'>Concepts</h2>
<h3 id='actions' class='heading'>Actions</h3>

<p>Items which provide callbacks (for example, responses to clicks) can provide a block action to respond with as part of the declaration.</p>
<pre class="highlight swift"><code><span class="k">self</span><span class="o">.</span><span class="n">customToolbar</span> <span class="o">=</span> <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">Make</span><span class="p">(</span><span class="kt">NSToolbar</span><span class="o">.</span><span class="kt">Identifier</span><span class="p">(</span><span class="s">"Buttons"</span><span class="p">))</span> <span class="p">{</span>
   <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">Image</span><span class="p">(</span><span class="kt">NSToolbarItem</span><span class="o">.</span><span class="kt">Identifier</span><span class="p">(</span><span class="s">"toolbar-image-bordered"</span><span class="p">))</span>
      <span class="o">.</span><span class="nf">label</span><span class="p">(</span><span class="s">"Burger"</span><span class="p">)</span>
      <span class="o">.</span><span class="n">action</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
         <span class="kt">Swift</span><span class="o">.</span><span class="nf">print</span><span class="p">(</span><span class="s">"Clicked burger!"</span><span class="p">)</span>
      <span class="p">}</span>
   <span class="p">}</span>
</code></pre>
<h3 id='block-requests' class='heading'>Block requests</h3>

<p>Some toolbar items can request information. For example, you can pass a block that returns the enabled status of an <code>Image</code> item during the declaration.</p>
<pre class="highlight swift"><code><span class="k">self</span><span class="o">.</span><span class="n">customToolbar</span> <span class="o">=</span> <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">Make</span><span class="p">(</span><span class="kt">NSToolbar</span><span class="o">.</span><span class="kt">Identifier</span><span class="p">(</span><span class="s">"Enabled-buttons"</span><span class="p">))</span> <span class="p">{</span>
   <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">Image</span><span class="p">(</span><span class="kt">NSToolbarItem</span><span class="o">.</span><span class="kt">Identifier</span><span class="p">(</span><span class="s">"toolbar-image-bordered"</span><span class="p">))</span>
      <span class="o">.</span><span class="nf">label</span><span class="p">(</span><span class="s">"Burger"</span><span class="p">)</span>
      <span class="o">.</span><span class="n">enabled</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">self</span><span class="o">.</span><span class="kt">IsBurgerMenuEnabled</span><span class="p">()</span>
      <span class="p">}</span>
      <span class="o">.</span><span class="n">action</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
         <span class="kt">Swift</span><span class="o">.</span><span class="nf">print</span><span class="p">(</span><span class="s">"Clicked burger!"</span><span class="p">)</span>
      <span class="p">}</span>
   <span class="p">}</span>
</code></pre>
<h3 id='bindings' class='heading'>Bindings</h3>

<p>A lot of functionality can be hooked up via bindings in order to pass information to and from a toolbar item. For example, you can hook the content of the Search item to a class variable to observe when the content of the search field changes.</p>
<pre class="highlight swift"><code><span class="kd">@objc</span> <span class="kd">dynamic</span> <span class="k">var</span> <span class="nv">searchText</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">""</span>
   <span class="o">...</span>
<span class="k">self</span><span class="o">.</span><span class="n">customToolbar</span> <span class="o">=</span> <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">Make</span><span class="p">(</span><span class="kt">NSToolbar</span><span class="o">.</span><span class="kt">Identifier</span><span class="p">(</span><span class="s">"Search"</span><span class="p">))</span> <span class="p">{</span>
   <span class="kt">DSFToolbar</span><span class="o">.</span><span class="kt">Search</span><span class="p">(</span><span class="kt">NSToolbarItem</span><span class="o">.</span><span class="kt">Identifier</span><span class="p">(</span><span class="s">"toolbar-search-field"</span><span class="p">))</span>
      <span class="o">.</span><span class="nf">label</span><span class="p">(</span><span class="s">"Search"</span><span class="p">)</span>
      <span class="o">.</span><span class="nf">bindText</span><span class="p">(</span><span class="k">self</span><span class="p">,</span> <span class="nv">keyPath</span><span class="p">:</span> <span class="kd">#keyPath(</span><span class="nf">searchText</span><span class="kd">)</span><span class="p">)</span>
   <span class="p">}</span>
</code></pre>
<h2 id='available-toolbar-item-types' class='heading'>Available toolbar item types</h2>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Image</td>
<td>Basic toolbar &lsquo;image&rsquo; type. Provides basic image, label, action etc</td>
</tr>
<tr>
<td>Group</td>
<td>Group multiple items together to represent a unit</td>
</tr>
<tr>
<td>Search</td>
<td>Provides a search text field</td>
</tr>
<tr>
<td>Segmented</td>
<td>A simple segmented control</td>
</tr>
<tr>
<td>Separator (macOS 11 only)</td>
<td>Hooks into a NSSplitView to track a toolbar separator to a split view separator</td>
</tr>
<tr>
<td>Button</td>
<td>A toolbar item containing an <code>NSButton</code></td>
</tr>
<tr>
<td>View</td>
<td>A toolbar item containing a custom view</td>
</tr>
</tbody></table>
<h1 id='available-properties-bindings-and-actions' class='heading'>Available Properties, Bindings and Actions</h1>
<h2 id='core' class='heading'>Core</h2>

<p>Core properties and bindings are available to all toolbar item types.</p>
<h3 id='properties' class='heading'>Properties</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type (default)</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>label</code></td>
<td><code>String</code></td>
<td>The label to be displayed on the toolbar item</td>
</tr>
<tr>
<td><code>paletteLabel</code></td>
<td><code>String</code> (optional)</td>
<td>The palette label is shown when the user is customizing the toolbar</td>
</tr>
<tr>
<td><code>tooltip</code></td>
<td><code>String</code> (optional)</td>
<td>The tooltip for the toolbar item</td>
</tr>
<tr>
<td><code>isBordered</code></td>
<td><code>Bool</code> (false)</td>
<td>Apply a border to the toolbar item (10.15+)</td>
</tr>
<tr>
<td><code>isDefault</code></td>
<td><code>Bool</code> (true)</td>
<td>Mark the item as available on the &lsquo;default&rsquo; toolbar presented to the user</td>
</tr>
<tr>
<td><code>isSelectable</code></td>
<td><code>Bool</code> (false)</td>
<td>Mark the toolbar item as being selectable</td>
</tr>
</tbody></table>
<h3 id='bindings' class='heading'>Bindings</h3>

<table><thead>
<tr>
<th>Binding</th>
<th>Type (default)</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>bindLabel</code></td>
<td><code>String</code></td>
<td>Bind the label for the toolbar item to a key path</td>
</tr>
<tr>
<td><code>bindEnabled</code></td>
<td><code>Bool</code></td>
<td>Bind the enabled state for the toolbar item to a key path</td>
</tr>
</tbody></table>
<h3 id='legacy-pre-10-13-support' class='heading'>Legacy (pre 10.13) support</h3>

<p>Earlier macOS versions did not support autolayout within the toolbar items and relied on the dev to specify a maximum and minimum size for the toolbar item.  If you need to support older systems you will need to provide these for each item - on 10.13+ these values will be ignored for autolayout constraints.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type (default)</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>legacySizes</code></td>
<td><code>CGSize,CGSize</code></td>
<td>The max and min size for the toolbar item</td>
</tr>
</tbody></table>
<h2 id='image' class='heading'>Image</h2>

<p>A toolbar &lsquo;image&rsquo; type is the basic type of toolbar items</p>
<h3 id='properties' class='heading'>Properties</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type (default)</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>image</code></td>
<td><code>NSImage</code></td>
<td>the image to display on the toolbar item</td>
</tr>
</tbody></table>
<h3 id='actions' class='heading'>Actions</h3>

<table><thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>action</code></td>
<td>The block to call when the toolbar item is activated (eg. clicked)</td>
</tr>
<tr>
<td><code>enabled</code></td>
<td>Supply a callback block to be called to determine the enabled state of the item</td>
</tr>
</tbody></table>
<h2 id='segmented-control' class='heading'>Segmented Control</h2>
<h3 id='segment' class='heading'>Segment</h3>
<h4 id='properties' class='heading'>Properties</h4>

<table><thead>
<tr>
<th>Property</th>
<th>Type (default)</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>title</code></td>
<td><code>String</code></td>
<td>the title to display on the segmented control</td>
</tr>
<tr>
<td><code>image</code></td>
<td><code>NSImage</code></td>
<td>the image to display on the toolbar item</td>
</tr>
</tbody></table>
<h4 id='actions' class='heading'>Actions</h4>

<table><thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>action</code></td>
<td>The block to call when the selection of the segmented control changes</td>
</tr>
</tbody></table>
<h4 id='bindings' class='heading'>Bindings</h4>

<p>| Binding   | Type (default)     |  Description |
| <code>bindEnabled</code> | <code>Bool</code> | Bind the enabled state for the toolbar item to a key path</p>
<h2 id='search' class='heading'>Search</h2>

<p>A search field toolbar item.  Uses <code>NSSearchToolbarItem</code> for macOS 11+, falls back to a embedded <code>NSSearchField</code> for earlier macOS versions.</p>
<h3 id='properties' class='heading'>Properties</h3>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>delegate</code></td>
<td><code>NSSearchFieldDelegate</code></td>
<td>The object to act as the delegate for the search field (overridden by <code>searchChange</code>)</td>
</tr>
</tbody></table>
<h3 id='actions' class='heading'>Actions</h3>

<table><thead>
<tr>
<th>Action</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>searchChange</code></td>
<td>The block to call when the content of the search field changes</td>
</tr>
</tbody></table>
<h3 id='bindings' class='heading'>Bindings</h3>

<table><thead>
<tr>
<th>Binding</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>bindText</code></td>
<td><code>String</code></td>
<td>Bind the search text to a key path</td>
</tr>
</tbody></table>
<h2 id='group' class='heading'>Group</h2>

<p>A group groups a number of toolbar items together into a single unit.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2020 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2020-10-01)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
